
## 物理层

<!-- TOC -->

- [物理层](#物理层)
- [1.通信基础 *](#1通信基础-)
  - [1.基本概念 *](#1基本概念-)
    - [1.数据，信号与码元 *](#1数据信号与码元-)
    - [2.信源，信道与信宿 *](#2信源信道与信宿-)
    - [3.速率，波特与带宽 *](#3速率波特与带宽-)
  - [2.奈奎斯特定理/香农定理 *](#2奈奎斯特定理香农定理-)
    - [1.奈氏准则 *](#1奈氏准则-)
    - [2.香农定理 *](#2香农定理-)
  - [3.编码与调制](#3编码与调制)
    - [1.数字数据编码为数字信号](#1数字数据编码为数字信号)
    - [2.数字数据编码为模拟信号](#2数字数据编码为模拟信号)
    - [3.模拟数据编码为数字信号](#3模拟数据编码为数字信号)
    - [4.模拟数据编码为模拟信号](#4模拟数据编码为模拟信号)
  - [4.电路交换/报文交换/分组交换 *](#4电路交换报文交换分组交换-)
    - [1.电路交换 *](#1电路交换-)
    - [2.报文交换 *](#2报文交换-)
    - [3.分组交换 *](#3分组交换-)
  - [5.数据报与虚电路](#5数据报与虚电路)
    - [1.数据报](#1数据报)
    - [2.虚电路](#2虚电路)
- [2.传输介质 *](#2传输介质-)
  - [1.双绞线，同轴电缆，光纤与无线传输介质 *](#1双绞线同轴电缆光纤与无线传输介质-)
  - [2.物理接口的特性](#2物理接口的特性)
- [3.物理层设备 *](#3物理层设备-)
  - [1.中继器  *](#1中继器--)
  - [2.集线器 *](#2集线器-)

<!-- /TOC -->

## 1.通信基础 *

### 1.基本概念 *


#### 1.数据，信号与码元 *
**通信的目的是`传送信息`**
- 数据：传送信息的`实体`
- 信号：数据再传输过程中的`存在形式`
   - 模拟信号/数据：`连续变化`的信号/数据
   - 数字信号/数据：取值仅允许为几个有限的几个离散数值的信号/数据

- 码元：数字通信中数字信号的计量单位，用一个`固定时长`的信号波形表示一位k进制数字。时长内的信号称之为`k进制码元`，时长称之为`码元宽度`

#### 2.信源，信道与信宿 *

**数字通信系统主要划分为`信源`、`信道`和`信宿`。**
- 信源是产生和`发送`数据的`源头`
- 信宿是`接受`数据的`终点`
- 信道是信号的`传输媒介`
  
**信道分类**
- 传输信号形式：模拟信道/数字信道
- 传输介质：无线信道/有线信道

**信号分类**
- 基带信号（基带传输）/宽带信号（宽带传输）

**通信交互方式**
- 单向通信：`一条信道`，无线电广播，电视广播
- 半双工通信：`两条信道`，任何一方不能同时发送和接收
- 全双工通信：`两条信道`，`两个方向`的数据传输可以同时进行

#### 3.速率，波特与带宽 *

- 速率：数据率，数据`传输速率`
  - 码元传输速率（`波特率`）：单位时间内传输的码元数，单位`波特`,可以是多进制。码元速率与进制数无关。
  - 信息传输速率：单位时间内传输的二进制码元个数（比特数），单位`比特/秒`
- 带宽：网络的通信线路所能传输数据的能力，表示单位时间内从网络中一点到另一点所能通过的"最高数据率"，单位`b/s（Hz）`

### 2.奈奎斯特定理/香农定理 *
#### 1.奈氏准则 *
理想低通信道下`极限数据传输速率`= $2W\log_2{V}$ ，其中W为理想低通信道带宽，V为每个码元离散电平数目。

- 任何信道码元传输速率有上限，超过上限会产生`码间串扰`
- 信道频带越宽，信道传输速率越高
- 奈氏准则规定码原传输速率，却并未限制码元可以有多少个二进制位。

#### 2.香农定理 *
香农定理是奈氏准则的推广，它规定了`信息传输速率`的上限，即信道的`最大信息传输速率`= $W\log_{2}{(1+S/N)}$ ，其中W为信道带宽，S/N为信噪比。

信噪比= $10log_{10}(S/N)$ ，单位`dB`

- 信道带宽或信道中`信噪比`越大，`信息极限传输速`率越高
- `传输带宽`和`信噪比`确定，信息传输速率上限`确定`
- 信息传输速率`低于`信道极限传输速率，就能找到某种方法实现`无差错传输`。

`奈氏准则`只考虑了带宽与`极限码元`与`传输速率`的关系，而`香农定理`不仅考虑了`带宽`，也考虑了`信噪比`。从侧面表明，一个码元对应的二进制位数是`有限的`



### 3.编码与调制
把数据变换为`模拟信号`的过程称为`调制`，把数据变换为`数字信号`的过程称为`编码`。

#### 1.数字数据编码为数字信号
- 归零编码(RZ)
- 非归零编码(NRZ)
- 反向非归零编码(NRZI)
- 曼彻斯特编码(`以太网`)
- 差分曼彻斯特编码(`局域网`)
- 4B/5B编码

#### 2.数字数据编码为模拟信号
- `ASK`幅移键控
- `FSK`频移键控
- `PSK`相移键控
- `QAM`正交振幅调制

#### 3.模拟数据编码为数字信号
- 采样：时间上连续的信号变为离散的信号
- 量化：连续信号的幅度变为离散的数字量
- 编码：量化的结果转换为与之对应的二进制编码

#### 4.模拟数据编码为模拟信号

### 4.电路交换/报文交换/分组交换 *
#### 1.电路交换 *
- 连接建立，数据传输，连接释放
- 用户始终占用端到端的固定传输宽带

优点：
- 
- 通信时延小
- 有序传输
- 没有冲突
- 适用范围广
- 实时性强
- 控制简单

缺点：
- 
- 建立连接时间长
- 线路独占
- 灵活性差
- 难以规格化

#### 2.报文交换 *
- 报文携带咪表地址，源地址等信息，在交换节点采用存储转发的传输方式。

优点：
- 
- 无需建立连接
- 动态分配线路
- 提高线路可靠性
- 提高线路利用率
- 提供多目标服务

缺点：
- 
- 引起转发时延
- 报文大小没有限制，要求网络结点有较大缓存空间。

#### 3.分组交换 *
- 限制每次传送数据块大小的上限，把大数据块划分为合理的小数据块，加上控制信息，构成分组。

优点：
- 
- 无建立时延
- 线路利用率高
- 简化存储管理
- 加速传输
- 减少出错概率和重发数据量。

缺点：
- 
- 存在传输时延
- 需要传输额外信息量
- 分组采用数据报形式的时候，可能出现失序、丢失或者重复分组。
  
### 5.数据报与虚电路
#### 1.数据报
- `无连接的`，`不可靠的`，`尽最大努力交付`的服务。
- 发送的分组包括`发送端`和`接收端`的完整地址。
- 分组在交换节点中采用`存储转发`的方式传输，需要排队等候处理，造成时延。
- 网络具有冗余路径。
- 存储转发延时一般较小，提高网络吞吐量。
- 收发双方不独占某条链路，资源利用率高。

#### 2.虚电路
- 发送方和接收方建立一条逻辑上相连的虚电路。
- 每个数据分组不仅要有分组好、校验和等控制信息，还要有它要通过的虚电路号。
- 虚电路通信链路建立和拆除需要时间开销，对交互式应用和小量的短分组情况显得很浪费，但对长时间、频繁的数据交换效率较高。
- 虚电路的路由选择体现在连接建立阶段，连接建立后，就确定了传输路径
- 虚电路提供了可靠的通信功能，能保证每个分组正确且有序到达。此外，还可以对两个数据端点的流量进行控制。
- 网络中某个结点或某条链路出现故障而彻底失效时，所有经过该结点或链路的虚电路将遭到破坏。
- 分组首部不包含目的地址，包含的时虚电路标识符，相对于数据报方式，其开销小。

| |数据报服务|虚电路服务|
|---|---|---|
|连接的建立|不需要|必须有|
|目的地址|每个分组都有完整的目的地址|仅在建立连接阶段使用，之后每个分组使用长度较短的虚电路号|
|路由选择|每个分组独立地进行路由选择和转发|属于同一条虚电路的分组按照同一路由转发|
|分组顺序|不保证分组有序到达|保证分组有序到达|
|可靠性|不保证可靠通信，可靠性由用户主机保证|可靠性由网络保证|
|对网络故障的适应性|出故障的结点丢失分组，其他分组路径选择发生变化时可以正常传输|所有经过故障结点的虚电路不能正常工作|
|差错处理和流量控制|由用户主机进行流量控制，不保证数据报的可靠性|可由分组交换网负责，也可由用户主机负责|

## 2.传输介质 *

### 1.双绞线，同轴电缆，光纤与无线传输介质 *
- 双绞线:`绞合`减少相邻导线的电磁干扰，局域网/传统电话线
  - 无屏蔽双绞线
  - 屏蔽双绞线（金属丝编织成的屏蔽层）
- 同轴电缆:内导体，绝缘层，网状编织屏蔽层和塑料外层，用于传输较高速率的数据
- 光纤:光脉冲
  - 通信容量非常大
  - 传输损耗小，中继距离长，对远距离传输特别经济
  - 抗雷电和电磁干扰性能好
  - 无串音干扰，保密性好，不易被窃听或截取数据
  - 体积小，重量轻
- 无线传输介质
   - 无线电波
   - 微波，红外线和激光
### 2.物理接口的特性
- 机械特性
- 电气特性
- 功能特性
- 过程特性
 
## 3.物理层设备 *
### 1.中继器  *
将信号整形并放大转发，以扩大网络传输距离（信号再生）

`不能`连接两个不同速率的局域网

5-4-3规则:4个中继器串联的5段通信介质只有3段可以挂接计算机。
### 2.集线器 *
多端口中继器，作信号放大和转发作用，扩大网络传输范围

主要使用双绞线组件共享网络